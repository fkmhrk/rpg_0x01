<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
</head>
<body>
    <section id="c"></section>

    <div id="titleTemplate" style="display: none;">
        <section class="titleScene">
            <h1>RPG 0x01</h1>

            <div class="buttons">
                <div class="center">
                    <button on-click="start">Start</button>
                </div>
                <div class="center">
                    <button on-click="resume">Continue</button>
                </div>            
            </div>
            
        </section>
    </div>

    <div id="setupTemplate" style="display: none;">
        <section class="setupScene">
            <h1>Input your name</h1>

            <section class="form">
                <label>Name</label><br/>
                <input id="name" type="text" value="{{name}}"/>
            </section>
            <div class="right">
                <button on-click="submit" disabled="{{isEmpty(name)}}">OK</button>
            </div>
            
        </section>
    </div>    

    <div id="mazeTemplate" style="display: none;">
        <section class="mazeScene">
            <canvas id="maze" width="320" height="320"></canvas>
            <section class="buttons">
                <table class="move">
                    <tr><td></td><td><button on-click="go">Go</button></td><td></td></tr>
                    <tr><td><button on-click="left">Left</button></td><td></td><td><button on-click="right">Right</button></td></tr>
                    <tr><td></td><td><button on-click="back">Back</button></td><td></td></tr>
                </table>
            </section>
        </section>
    </div>        

    <div id="battleTemplate" style="display: none;">
        <section class="battleScene">
            <section class="background">
                <section class="enemyImages">
                    {{#enemies:i}}
                    {{#if .alive == true}}
                    <img id="enemy{{i}}" on-click="['selectEnemy', i]"/>
                    {{/if}}
                    {{/}}
                </section>
            </section>

            <pre id="msg" class="msg">{{msg}}</pre>

            <section class="buttons">
                {{#if p != null}}
                <table class="state">
                    <tr>
                        <th class="name">{{p.name}}</th>
                        <td>HP 0x{{p.hp.toString(16)}}</td>
                        <td>MP 0x{{p.mp.toString(16)}}</td>
                    </tr>
                </table>
                {{/if}}
                {{#if buttonState == 1}}
                <button class="ok" on-click="ok">OK</button>
                {{elseif buttonState == 2}}
                <div class="commands">
                    <button on-click="fight">Fight</button>
                    <button on-click="run">Run</button>
                </div>
                {{/if}}
            </section>
        </section>
    </div>

    <div id="gameOverTemplate" style="display: none;">
        <section class="gameOverScene">
            <section class="center">
                <h1>Game over</h1>
                <div class="button">
                    <button on-click="submit">Retry</button>
                </div>
            </section>
        </section>
    </div>        
    

    <link rel="stylesheet" type="text/css" href="./css/style.css"/>
    <script src="./js/ractive.js"></script>
    <script src="./js/app.js"></script>
</body>
</html>